import{K as R,r as d,al as Re,N as $,J as oe,Q as ze,M as g,R as E,S,am as j,an as N,e as _t,ao as pt,n as Q,i as ye}from"./index.d4834858.js";var K=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(){this.__data__=[],this.size=0}var gt=$t;function yt(e,t){return e===t||e!==e&&t!==t}var We=yt,dt=We;function ht(e,t){for(var r=e.length;r--;)if(dt(e[r][0],t))return r;return-1}var z=ht,Tt=z,mt=Array.prototype,jt=mt.splice;function At(e){var t=this.__data__,r=Tt(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():jt.call(t,r,1),--this.size,!0}var Ot=At,St=z;function wt(e){var t=this.__data__,r=St(t,e);return r<0?void 0:t[r][1]}var Ct=wt,It=z;function kt(e){return It(this.__data__,e)>-1}var Et=kt,xt=z;function Pt(e,t){var r=this.__data__,a=xt(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Bt=Pt,Mt=gt,Dt=Ot,Nt=Ct,Lt=Et,Ft=Bt;function x(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}x.prototype.clear=Mt;x.prototype.delete=Dt;x.prototype.get=Nt;x.prototype.has=Lt;x.prototype.set=Ft;var W=x,Gt=W;function Ut(){this.__data__=new Gt,this.size=0}var Kt=Ut;function Vt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ht=Vt;function Rt(e){return this.__data__.get(e)}var zt=Rt;function Wt(e){return this.__data__.has(e)}var qt=Wt,Jt=typeof K=="object"&&K&&K.Object===Object&&K,qe=Jt,Yt=qe,Xt=typeof self=="object"&&self&&self.Object===Object&&self,Qt=Yt||Xt||Function("return this")(),T=Qt,Zt=T,er=Zt.Symbol,ie=er,de=ie,Je=Object.prototype,tr=Je.hasOwnProperty,rr=Je.toString,L=de?de.toStringTag:void 0;function ar(e){var t=tr.call(e,L),r=e[L];try{e[L]=void 0;var a=!0}catch{}var s=rr.call(e);return a&&(t?e[L]=r:delete e[L]),s}var nr=ar,sr=Object.prototype,or=sr.toString;function ir(e){return or.call(e)}var cr=ir,he=ie,ur=nr,lr=cr,vr="[object Null]",fr="[object Undefined]",Te=he?he.toStringTag:void 0;function br(e){return e==null?e===void 0?fr:vr:Te&&Te in Object(e)?ur(e):lr(e)}var q=br;function _r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var G=_r,pr=q,$r=G,gr="[object AsyncFunction]",yr="[object Function]",dr="[object GeneratorFunction]",hr="[object Proxy]";function Tr(e){if(!$r(e))return!1;var t=pr(e);return t==yr||t==dr||t==gr||t==hr}var Ye=Tr,mr=T,jr=mr["__core-js_shared__"],Ar=jr,Z=Ar,me=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Or(e){return!!me&&me in e}var Sr=Or,wr=Function.prototype,Cr=wr.toString;function Ir(e){if(e!=null){try{return Cr.call(e)}catch{}try{return e+""}catch{}}return""}var Xe=Ir,kr=Ye,Er=Sr,xr=G,Pr=Xe,Br=/[\\^$.*+?()[\]{}|]/g,Mr=/^\[object .+?Constructor\]$/,Dr=Function.prototype,Nr=Object.prototype,Lr=Dr.toString,Fr=Nr.hasOwnProperty,Gr=RegExp("^"+Lr.call(Fr).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ur(e){if(!xr(e)||Er(e))return!1;var t=kr(e)?Gr:Mr;return t.test(Pr(e))}var Kr=Ur;function Vr(e,t){return e==null?void 0:e[t]}var Hr=Vr,Rr=Kr,zr=Hr;function Wr(e,t){var r=zr(e,t);return Rr(r)?r:void 0}var k=Wr,qr=k,Jr=T,Yr=qr(Jr,"Map"),ce=Yr,Xr=k,Qr=Xr(Object,"create"),J=Qr,je=J;function Zr(){this.__data__=je?je(null):{},this.size=0}var ea=Zr;function ta(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ra=ta,aa=J,na="__lodash_hash_undefined__",sa=Object.prototype,oa=sa.hasOwnProperty;function ia(e){var t=this.__data__;if(aa){var r=t[e];return r===na?void 0:r}return oa.call(t,e)?t[e]:void 0}var ca=ia,ua=J,la=Object.prototype,va=la.hasOwnProperty;function fa(e){var t=this.__data__;return ua?t[e]!==void 0:va.call(t,e)}var ba=fa,_a=J,pa="__lodash_hash_undefined__";function $a(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_a&&t===void 0?pa:t,this}var ga=$a,ya=ea,da=ra,ha=ca,Ta=ba,ma=ga;function P(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}P.prototype.clear=ya;P.prototype.delete=da;P.prototype.get=ha;P.prototype.has=Ta;P.prototype.set=ma;var ja=P,Ae=ja,Aa=W,Oa=ce;function Sa(){this.size=0,this.__data__={hash:new Ae,map:new(Oa||Aa),string:new Ae}}var wa=Sa;function Ca(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ia=Ca,ka=Ia;function Ea(e,t){var r=e.__data__;return ka(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Y=Ea,xa=Y;function Pa(e){var t=xa(this,e).delete(e);return this.size-=t?1:0,t}var Ba=Pa,Ma=Y;function Da(e){return Ma(this,e).get(e)}var Na=Da,La=Y;function Fa(e){return La(this,e).has(e)}var Ga=Fa,Ua=Y;function Ka(e,t){var r=Ua(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var Va=Ka,Ha=wa,Ra=Ba,za=Na,Wa=Ga,qa=Va;function B(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}B.prototype.clear=Ha;B.prototype.delete=Ra;B.prototype.get=za;B.prototype.has=Wa;B.prototype.set=qa;var Ja=B,Ya=W,Xa=ce,Qa=Ja,Za=200;function en(e,t){var r=this.__data__;if(r instanceof Ya){var a=r.__data__;if(!Xa||a.length<Za-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Qa(a)}return r.set(e,t),this.size=r.size,this}var tn=en,rn=W,an=Kt,nn=Ht,sn=zt,on=qt,cn=tn;function M(e){var t=this.__data__=new rn(e);this.size=t.size}M.prototype.clear=an;M.prototype.delete=nn;M.prototype.get=sn;M.prototype.has=on;M.prototype.set=cn;var un=M;function ln(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var vn=ln,fn=k,bn=function(){try{var e=fn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_n=bn,Oe=_n;function pn(e,t,r){t=="__proto__"&&Oe?Oe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Qe=pn,$n=Qe,gn=We,yn=Object.prototype,dn=yn.hasOwnProperty;function hn(e,t,r){var a=e[t];(!(dn.call(e,t)&&gn(a,r))||r===void 0&&!(t in e))&&$n(e,t,r)}var Ze=hn,Tn=Ze,mn=Qe;function jn(e,t,r,a){var s=!r;r||(r={});for(var o=-1,n=t.length;++o<n;){var i=t[o],l=a?a(r[i],e[i],i,r,e):void 0;l===void 0&&(l=e[i]),s?mn(r,i,l):Tn(r,i,l)}return r}var X=jn;function An(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var On=An;function Sn(e){return e!=null&&typeof e=="object"}var U=Sn,wn=q,Cn=U,In="[object Arguments]";function kn(e){return Cn(e)&&wn(e)==In}var En=kn,Se=En,xn=U,et=Object.prototype,Pn=et.hasOwnProperty,Bn=et.propertyIsEnumerable,Mn=Se(function(){return arguments}())?Se:function(e){return xn(e)&&Pn.call(e,"callee")&&!Bn.call(e,"callee")},Dn=Mn,Nn=Array.isArray,ue=Nn,H={exports:{}};function Ln(){return!1}var Fn=Ln;(function(e,t){var r=T,a=Fn,s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,n=o&&o.exports===s,i=n?r.Buffer:void 0,l=i?i.isBuffer:void 0,p=l||a;e.exports=p})(H,H.exports);var Gn=9007199254740991,Un=/^(?:0|[1-9]\d*)$/;function Kn(e,t){var r=typeof e;return t=t==null?Gn:t,!!t&&(r=="number"||r!="symbol"&&Un.test(e))&&e>-1&&e%1==0&&e<t}var Vn=Kn,Hn=9007199254740991;function Rn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Hn}var tt=Rn,zn=q,Wn=tt,qn=U,Jn="[object Arguments]",Yn="[object Array]",Xn="[object Boolean]",Qn="[object Date]",Zn="[object Error]",es="[object Function]",ts="[object Map]",rs="[object Number]",as="[object Object]",ns="[object RegExp]",ss="[object Set]",os="[object String]",is="[object WeakMap]",cs="[object ArrayBuffer]",us="[object DataView]",ls="[object Float32Array]",vs="[object Float64Array]",fs="[object Int8Array]",bs="[object Int16Array]",_s="[object Int32Array]",ps="[object Uint8Array]",$s="[object Uint8ClampedArray]",gs="[object Uint16Array]",ys="[object Uint32Array]",f={};f[ls]=f[vs]=f[fs]=f[bs]=f[_s]=f[ps]=f[$s]=f[gs]=f[ys]=!0;f[Jn]=f[Yn]=f[cs]=f[Xn]=f[us]=f[Qn]=f[Zn]=f[es]=f[ts]=f[rs]=f[as]=f[ns]=f[ss]=f[os]=f[is]=!1;function ds(e){return qn(e)&&Wn(e.length)&&!!f[zn(e)]}var hs=ds;function Ts(e){return function(t){return e(t)}}var le=Ts,F={exports:{}};(function(e,t){var r=qe,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,n=o&&r.process,i=function(){try{var l=s&&s.require&&s.require("util").types;return l||n&&n.binding&&n.binding("util")}catch{}}();e.exports=i})(F,F.exports);var ms=hs,js=le,we=F.exports,Ce=we&&we.isTypedArray,As=Ce?js(Ce):ms,Os=As,Ss=On,ws=Dn,Cs=ue,Is=H.exports,ks=Vn,Es=Os,xs=Object.prototype,Ps=xs.hasOwnProperty;function Bs(e,t){var r=Cs(e),a=!r&&ws(e),s=!r&&!a&&Is(e),o=!r&&!a&&!s&&Es(e),n=r||a||s||o,i=n?Ss(e.length,String):[],l=i.length;for(var p in e)(t||Ps.call(e,p))&&!(n&&(p=="length"||s&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||ks(p,l)))&&i.push(p);return i}var rt=Bs,Ms=Object.prototype;function Ds(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ms;return e===r}var ve=Ds;function Ns(e,t){return function(r){return e(t(r))}}var at=Ns,Ls=at,Fs=Ls(Object.keys,Object),Gs=Fs,Us=ve,Ks=Gs,Vs=Object.prototype,Hs=Vs.hasOwnProperty;function Rs(e){if(!Us(e))return Ks(e);var t=[];for(var r in Object(e))Hs.call(e,r)&&r!="constructor"&&t.push(r);return t}var zs=Rs,Ws=Ye,qs=tt;function Js(e){return e!=null&&qs(e.length)&&!Ws(e)}var nt=Js,Ys=rt,Xs=zs,Qs=nt;function Zs(e){return Qs(e)?Ys(e):Xs(e)}var fe=Zs,eo=X,to=fe;function ro(e,t){return e&&eo(t,to(t),e)}var ao=ro;function no(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var so=no,oo=G,io=ve,co=so,uo=Object.prototype,lo=uo.hasOwnProperty;function vo(e){if(!oo(e))return co(e);var t=io(e),r=[];for(var a in e)a=="constructor"&&(t||!lo.call(e,a))||r.push(a);return r}var fo=vo,bo=rt,_o=fo,po=nt;function $o(e){return po(e)?bo(e,!0):_o(e)}var be=$o,go=X,yo=be;function ho(e,t){return e&&go(t,yo(t),e)}var To=ho,ee={exports:{}};(function(e,t){var r=T,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,n=o?r.Buffer:void 0,i=n?n.allocUnsafe:void 0;function l(p,h){if(h)return p.slice();var y=p.length,A=i?i(y):new p.constructor(y);return p.copy(A),A}e.exports=l})(ee,ee.exports);function mo(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var jo=mo;function Ao(e,t){for(var r=-1,a=e==null?0:e.length,s=0,o=[];++r<a;){var n=e[r];t(n,r,e)&&(o[s++]=n)}return o}var Oo=Ao;function So(){return[]}var st=So,wo=Oo,Co=st,Io=Object.prototype,ko=Io.propertyIsEnumerable,Ie=Object.getOwnPropertySymbols,Eo=Ie?function(e){return e==null?[]:(e=Object(e),wo(Ie(e),function(t){return ko.call(e,t)}))}:Co,_e=Eo,xo=X,Po=_e;function Bo(e,t){return xo(e,Po(e),t)}var Mo=Bo;function Do(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var ot=Do,No=at,Lo=No(Object.getPrototypeOf,Object),it=Lo,Fo=ot,Go=it,Uo=_e,Ko=st,Vo=Object.getOwnPropertySymbols,Ho=Vo?function(e){for(var t=[];e;)Fo(t,Uo(e)),e=Go(e);return t}:Ko,ct=Ho,Ro=X,zo=ct;function Wo(e,t){return Ro(e,zo(e),t)}var qo=Wo,Jo=ot,Yo=ue;function Xo(e,t,r){var a=t(e);return Yo(e)?a:Jo(a,r(e))}var ut=Xo,Qo=ut,Zo=_e,ei=fe;function ti(e){return Qo(e,ei,Zo)}var ri=ti,ai=ut,ni=ct,si=be;function oi(e){return ai(e,si,ni)}var ii=oi,ci=k,ui=T,li=ci(ui,"DataView"),vi=li,fi=k,bi=T,_i=fi(bi,"Promise"),pi=_i,$i=k,gi=T,yi=$i(gi,"Set"),di=yi,hi=k,Ti=T,mi=hi(Ti,"WeakMap"),ji=mi,te=vi,re=ce,ae=pi,ne=di,se=ji,lt=q,D=Xe,ke="[object Map]",Ai="[object Object]",Ee="[object Promise]",xe="[object Set]",Pe="[object WeakMap]",Be="[object DataView]",Oi=D(te),Si=D(re),wi=D(ae),Ci=D(ne),Ii=D(se),I=lt;(te&&I(new te(new ArrayBuffer(1)))!=Be||re&&I(new re)!=ke||ae&&I(ae.resolve())!=Ee||ne&&I(new ne)!=xe||se&&I(new se)!=Pe)&&(I=function(e){var t=lt(e),r=t==Ai?e.constructor:void 0,a=r?D(r):"";if(a)switch(a){case Oi:return Be;case Si:return ke;case wi:return Ee;case Ci:return xe;case Ii:return Pe}return t});var pe=I,ki=Object.prototype,Ei=ki.hasOwnProperty;function xi(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ei.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Pi=xi,Bi=T,Mi=Bi.Uint8Array,Di=Mi,Me=Di;function Ni(e){var t=new e.constructor(e.byteLength);return new Me(t).set(new Me(e)),t}var $e=Ni,Li=$e;function Fi(e,t){var r=t?Li(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Gi=Fi,Ui=/\w*$/;function Ki(e){var t=new e.constructor(e.source,Ui.exec(e));return t.lastIndex=e.lastIndex,t}var Vi=Ki,De=ie,Ne=De?De.prototype:void 0,Le=Ne?Ne.valueOf:void 0;function Hi(e){return Le?Object(Le.call(e)):{}}var Ri=Hi,zi=$e;function Wi(e,t){var r=t?zi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var qi=Wi,Ji=$e,Yi=Gi,Xi=Vi,Qi=Ri,Zi=qi,ec="[object Boolean]",tc="[object Date]",rc="[object Map]",ac="[object Number]",nc="[object RegExp]",sc="[object Set]",oc="[object String]",ic="[object Symbol]",cc="[object ArrayBuffer]",uc="[object DataView]",lc="[object Float32Array]",vc="[object Float64Array]",fc="[object Int8Array]",bc="[object Int16Array]",_c="[object Int32Array]",pc="[object Uint8Array]",$c="[object Uint8ClampedArray]",gc="[object Uint16Array]",yc="[object Uint32Array]";function dc(e,t,r){var a=e.constructor;switch(t){case cc:return Ji(e);case ec:case tc:return new a(+e);case uc:return Yi(e,r);case lc:case vc:case fc:case bc:case _c:case pc:case $c:case gc:case yc:return Zi(e,r);case rc:return new a;case ac:case oc:return new a(e);case nc:return Xi(e);case sc:return new a;case ic:return Qi(e)}}var hc=dc,Tc=G,Fe=Object.create,mc=function(){function e(){}return function(t){if(!Tc(t))return{};if(Fe)return Fe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),jc=mc,Ac=jc,Oc=it,Sc=ve;function wc(e){return typeof e.constructor=="function"&&!Sc(e)?Ac(Oc(e)):{}}var Cc=wc,Ic=pe,kc=U,Ec="[object Map]";function xc(e){return kc(e)&&Ic(e)==Ec}var Pc=xc,Bc=Pc,Mc=le,Ge=F.exports,Ue=Ge&&Ge.isMap,Dc=Ue?Mc(Ue):Bc,Nc=Dc,Lc=pe,Fc=U,Gc="[object Set]";function Uc(e){return Fc(e)&&Lc(e)==Gc}var Kc=Uc,Vc=Kc,Hc=le,Ke=F.exports,Ve=Ke&&Ke.isSet,Rc=Ve?Hc(Ve):Vc,zc=Rc,Wc=un,qc=vn,Jc=Ze,Yc=ao,Xc=To,Qc=ee.exports,Zc=jo,eu=Mo,tu=qo,ru=ri,au=ii,nu=pe,su=Pi,ou=hc,iu=Cc,cu=ue,uu=H.exports,lu=Nc,vu=G,fu=zc,bu=fe,_u=be,pu=1,$u=2,gu=4,vt="[object Arguments]",yu="[object Array]",du="[object Boolean]",hu="[object Date]",Tu="[object Error]",ft="[object Function]",mu="[object GeneratorFunction]",ju="[object Map]",Au="[object Number]",bt="[object Object]",Ou="[object RegExp]",Su="[object Set]",wu="[object String]",Cu="[object Symbol]",Iu="[object WeakMap]",ku="[object ArrayBuffer]",Eu="[object DataView]",xu="[object Float32Array]",Pu="[object Float64Array]",Bu="[object Int8Array]",Mu="[object Int16Array]",Du="[object Int32Array]",Nu="[object Uint8Array]",Lu="[object Uint8ClampedArray]",Fu="[object Uint16Array]",Gu="[object Uint32Array]",v={};v[vt]=v[yu]=v[ku]=v[Eu]=v[du]=v[hu]=v[xu]=v[Pu]=v[Bu]=v[Mu]=v[Du]=v[ju]=v[Au]=v[bt]=v[Ou]=v[Su]=v[wu]=v[Cu]=v[Nu]=v[Lu]=v[Fu]=v[Gu]=!0;v[Tu]=v[ft]=v[Iu]=!1;function V(e,t,r,a,s,o){var n,i=t&pu,l=t&$u,p=t&gu;if(r&&(n=s?r(e,a,s,o):r(e)),n!==void 0)return n;if(!vu(e))return e;var h=cu(e);if(h){if(n=su(e),!i)return Zc(e,n)}else{var y=nu(e),A=y==ft||y==mu;if(uu(e))return Qc(e,i);if(y==bt||y==vt||A&&!s){if(n=l||A?{}:iu(e),!i)return l?tu(e,Xc(n,e)):eu(e,Yc(n,e))}else{if(!v[y])return s?e:{};n=ou(e,y,i)}}o||(o=new Wc);var w=o.get(e);if(w)return w;o.set(e,n),fu(e)?e.forEach(function(c){n.add(V(c,t,r,c,e,o))}):lu(e)&&e.forEach(function(c,u){n.set(u,V(c,t,r,u,e,o))});var m=p?l?au:ru:l?_u:bu,O=h?void 0:m(e);return qc(O||e,function(c,u){O&&(u=c,c=e[u]),Jc(n,u,V(c,t,r,u,e,o))}),n}var Uu=V,Ku=Uu,Vu=1,Hu=4;function Ru(e){return Ku(e,Vu|Hu)}var He=Ru;const zu={key:0,class:"row body__row"},Wu={class:"column row__column",style:{color:"#ff0000"}},qu={key:0,class:"column row__column"},Ju={key:1,class:"column row__column"},Yu=R({__name:"AsksBook",props:{keys_asks:{type:Object},asks:{type:Object}},setup(e){const t=d(!0),r=()=>{t.value=!1},a=()=>{t.value=!0};return Re(()=>{if(t.value===!0){let s=document.getElementsByClassName("asks_book");s[0].scrollTop=s[0].scrollHeight+50}}),(s,o)=>(g(),$("div",{class:"asks_book",onMouseenter:r,onMouseleave:a},[(g(!0),$(oe,null,ze(e.keys_asks,(n,i)=>(g(),$("div",{key:n},[Number(n)>=0?(g(),$("div",zu,[E("div",Wu,S(Number(n)*1),1),e.asks?(g(),$("div",qu,S(e.asks[n]*1),1)):j("",!0),e.asks?(g(),$("div",Ju,S((Number(n)*e.asks[n]).toFixed(4)),1)):j("",!0)])):j("",!0)]))),128))],32))}}),Xu={key:0,class:"row body__row",id:"start_bid"},Qu={class:"column row__column",style:{color:"#16c281"}},Zu={key:0,class:"column row__column"},el={key:1,class:"column row__column"},tl=R({__name:"BidsBook",props:{keys_bids:Object,bids:Object},setup(e){const t=d(!0),r=()=>{t.value=!1},a=()=>{t.value=!0};return Re(()=>{let s=document.getElementById("start_bid");s&&t.value===!0&&s.scrollIntoView({block:"center"})}),(s,o)=>(g(),$("div",{class:"bids_book",onMouseenter:r,onMouseleave:a},[(g(!0),$(oe,null,ze(e.keys_bids,(n,i)=>(g(),$("div",{key:n},[Number(n)>=0?(g(),$("div",Xu,[E("div",Qu,S(Number(n)*1),1),e.bids?(g(),$("div",Zu,S(e.bids[n]*1),1)):j("",!0),e.bids?(g(),$("div",el,S((Number(n)*e.bids[n]).toFixed(4)),1)):j("",!0)])):j("",!0)]))),128))],32))}});const rl={class:"head table__head"},al={key:0,class:"column head__column"},nl={key:1,class:"column head__column"},sl=E("div",{class:"column head__column"},"\u0412\u0441\u0435\u0433\u043E",-1),ol=R({__name:"HeaderTable",props:{current_pair:String},setup(e){return(t,r)=>{var a,s;return g(),$("div",rl,[e.current_pair?(g(),$("div",al," \u0426\u0435\u043D\u0430 "+S(((a=e.current_pair)==null?void 0:a.length)>=6?`(${e.current_pair.split("")[3]}${e.current_pair.split("")[4]}${e.current_pair.split("")[5]}${e.current_pair.length>6?e.current_pair.split("")[6]:""})`:""),1)):j("",!0),e.current_pair?(g(),$("div",nl," \u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E "+S(((s=e.current_pair)==null?void 0:s.length)>=6?`(${e.current_pair.split("")[0]}${e.current_pair.split("")[1]}${e.current_pair.split("")[2]})`:""),1)):j("",!0),sl])}}}),il={class:"table-responsive"},cl={class:"table"},ul={class:"body table__body"},ll={key:0,class:"loader"},fl=R({__name:"OrderBook",setup(e){const t=d(""),r=d(null),a=d(!1),s=d({}),o=d([]),n=d({}),i=d([]),l=d(null),p=d(null),h=d([]),y=ye("getOrderBook"),A=ye("subscribeOrderBook");N.on("update-pair",async m=>{if(t.value=m,A){const O=await A(m);r.value=O,r.value.onopen=async function(){if(y){a.value=!0;const c=await y(m);a.value=!1;const u={...c,asks:{},bids:{}};c.data.asks.forEach(b=>{u.asks[b[0]]=b[1]}),c.data.bids.forEach(b=>{u.bids[b[0]]=b[1]}),u.asks=await w(u.asks,2),u.bids=await w(u.bids,1),s.value=u.asks,n.value=u.bids,l.value=c.data.lastUpdateId,console.log("lastUpdateId"),setTimeout(function(){let b=document.getElementById("start_bid");b&&b.scrollIntoView({block:"center"})},100)}},r.value.onmessage=function(c){var ge;let u=JSON.parse(c.data),b=He(s.value),C=He(n.value);console.log("message"),h.value.length>0&&l.value&&l.value+1>=u.U&&l.value+1<=u.u&&(console.log("buffer"),console.log(h.value),h.value.forEach(_=>{l.value&&_.u<=l.value&&(Number(_[1])===0?delete b[_[0]]:(b[_[0]],b[_[0]]=_[1]))}),h.value=[]),l.value===null?h.value.push(u):p.value&&((ge=p.value)==null?void 0:ge.u)+1===u.U&&(u.a.forEach(_=>{Number(_[1])===0?delete b[_[0]]:(b[_[0]]&&N.emit("diff_value",`diff: \u0421\u043F\u0440\u043E\u0441: \u0412\u0430\u043B\u044E\u0442\u0430:${t.value.split("")[3]}${t.value.split("")[4]}${t.value.split("")[5]}${t.value.length>6?t.value.split("")[6]:""} \u0446\u0435\u043D\u0430 [${_[0]}] \u0431\u044B\u043B\u043E \u043A\u043E\u043B-\u0432\u043E [${b[_[0]]} \u0441\u0442\u0430\u043B\u043E [${_[1]}]`),b[_[0]]=Number(_[1]))}),u.b.forEach(_=>{Number(_[1])===0?delete C[_[0]]:(C[_[0]]&&N.emit("diff_value",`diff: \u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435: \u0412\u0430\u043B\u044E\u0442\u0430:${t.value.split("")[3]}${t.value.split("")[4]}${t.value.split("")[5]}${t.value.length>6?t.value.split("")[6]:""}/${t.value.split("")[0]}${t.value.split("")[1]}${t.value.split("")[2]} \u0446\u0435\u043D\u0430 [${_[0]}] \u0431\u044B\u043B\u043E \u043A\u043E\u043B-\u0432\u043E [${C[_[0]]} \u0441\u0442\u0430\u043B\u043E [${_[1]}]`),C[_[0]]=Number(_[1]))})),s.value=w(b,2),n.value=w(C,1),p.value=u},r.value.onclose=function(){}}});function w(m,O){let c=Object.keys(m);c.sort((b,C)=>-(Number(b)-Number(C)));const u={};if(c.length>500)if(O===1)c=c.slice(0,500);else{let b=c.length-500>0?c.length-500:0;c=c.slice(b,c.length)}return O===1?i.value=c:o.value=c,c.forEach(b=>u[b]=m[b]),u}return _t(()=>{N.emit("get-pair")}),pt(()=>{N.off("update-pair"),r.value.close(),h.value=[]}),(m,O)=>(g(),$(oe,null,[E("div",il,[E("div",cl,[Q(ol,{current_pair:t.value},null,8,["current_pair"]),E("div",ul,[Q(Yu,{asks:s.value,keys_asks:o.value},null,8,["asks","keys_asks"]),Q(tl,{bids:n.value,keys_bids:i.value},null,8,["bids","keys_bids"])])])]),a.value?(g(),$("div",ll)):j("",!0)],64))}});export{fl as default};
