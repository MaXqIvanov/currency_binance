import{K as q,N as $,J as ue,Q as Je,M as y,R as x,S,al as A,r as h,am as F,e as yt,an as gt,n as te,i as je}from"./index.151ef6e9.js";var R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dt(){this.__data__=[],this.size=0}var ht=dt;function Tt(e,t){return e===t||e!==e&&t!==t}var Ye=Tt,jt=Ye;function At(e,t){for(var r=e.length;r--;)if(jt(e[r][0],t))return r;return-1}var J=At,mt=J,Ot=Array.prototype,St=Ot.splice;function wt(e){var t=this.__data__,r=mt(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():St.call(t,r,1),--this.size,!0}var Ct=wt,It=J;function Et(e){var t=this.__data__,r=It(t,e);return r<0?void 0:t[r][1]}var xt=Et,Pt=J;function kt(e){return Pt(this.__data__,e)>-1}var Bt=kt,Mt=J;function Dt(e,t){var r=this.__data__,a=Mt(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Nt=Dt,Lt=ht,Ft=Ct,Gt=xt,Ut=Bt,Kt=Nt;function P(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}P.prototype.clear=Lt;P.prototype.delete=Ft;P.prototype.get=Gt;P.prototype.has=Ut;P.prototype.set=Kt;var Y=P,Vt=Y;function Ht(){this.__data__=new Vt,this.size=0}var Rt=Ht;function zt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Wt=zt;function qt(e){return this.__data__.get(e)}var Jt=qt;function Yt(e){return this.__data__.has(e)}var Xt=Yt,Qt=typeof R=="object"&&R&&R.Object===Object&&R,Xe=Qt,Zt=Xe,er=typeof self=="object"&&self&&self.Object===Object&&self,tr=Zt||er||Function("return this")(),j=tr,rr=j,ar=rr.Symbol,le=ar,Ae=le,Qe=Object.prototype,nr=Qe.hasOwnProperty,sr=Qe.toString,G=Ae?Ae.toStringTag:void 0;function or(e){var t=nr.call(e,G),r=e[G];try{e[G]=void 0;var a=!0}catch{}var n=sr.call(e);return a&&(t?e[G]=r:delete e[G]),n}var ir=or,cr=Object.prototype,ur=cr.toString;function lr(e){return ur.call(e)}var vr=lr,me=le,fr=ir,br=vr,_r="[object Null]",pr="[object Undefined]",Oe=me?me.toStringTag:void 0;function $r(e){return e==null?e===void 0?pr:_r:Oe&&Oe in Object(e)?fr(e):br(e)}var X=$r;function yr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var K=yr,gr=X,dr=K,hr="[object AsyncFunction]",Tr="[object Function]",jr="[object GeneratorFunction]",Ar="[object Proxy]";function mr(e){if(!dr(e))return!1;var t=gr(e);return t==Tr||t==jr||t==hr||t==Ar}var Ze=mr,Or=j,Sr=Or["__core-js_shared__"],wr=Sr,re=wr,Se=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Cr(e){return!!Se&&Se in e}var Ir=Cr,Er=Function.prototype,xr=Er.toString;function Pr(e){if(e!=null){try{return xr.call(e)}catch{}try{return e+""}catch{}}return""}var et=Pr,kr=Ze,Br=Ir,Mr=K,Dr=et,Nr=/[\\^$.*+?()[\]{}|]/g,Lr=/^\[object .+?Constructor\]$/,Fr=Function.prototype,Gr=Object.prototype,Ur=Fr.toString,Kr=Gr.hasOwnProperty,Vr=RegExp("^"+Ur.call(Kr).replace(Nr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hr(e){if(!Mr(e)||Br(e))return!1;var t=kr(e)?Vr:Lr;return t.test(Dr(e))}var Rr=Hr;function zr(e,t){return e==null?void 0:e[t]}var Wr=zr,qr=Rr,Jr=Wr;function Yr(e,t){var r=Jr(e,t);return qr(r)?r:void 0}var I=Yr,Xr=I,Qr=j,Zr=Xr(Qr,"Map"),ve=Zr,ea=I,ta=ea(Object,"create"),Q=ta,we=Q;function ra(){this.__data__=we?we(null):{},this.size=0}var aa=ra;function na(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sa=na,oa=Q,ia="__lodash_hash_undefined__",ca=Object.prototype,ua=ca.hasOwnProperty;function la(e){var t=this.__data__;if(oa){var r=t[e];return r===ia?void 0:r}return ua.call(t,e)?t[e]:void 0}var va=la,fa=Q,ba=Object.prototype,_a=ba.hasOwnProperty;function pa(e){var t=this.__data__;return fa?t[e]!==void 0:_a.call(t,e)}var $a=pa,ya=Q,ga="__lodash_hash_undefined__";function da(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ya&&t===void 0?ga:t,this}var ha=da,Ta=aa,ja=sa,Aa=va,ma=$a,Oa=ha;function k(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}k.prototype.clear=Ta;k.prototype.delete=ja;k.prototype.get=Aa;k.prototype.has=ma;k.prototype.set=Oa;var Sa=k,Ce=Sa,wa=Y,Ca=ve;function Ia(){this.size=0,this.__data__={hash:new Ce,map:new(Ca||wa),string:new Ce}}var Ea=Ia;function xa(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pa=xa,ka=Pa;function Ba(e,t){var r=e.__data__;return ka(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Z=Ba,Ma=Z;function Da(e){var t=Ma(this,e).delete(e);return this.size-=t?1:0,t}var Na=Da,La=Z;function Fa(e){return La(this,e).get(e)}var Ga=Fa,Ua=Z;function Ka(e){return Ua(this,e).has(e)}var Va=Ka,Ha=Z;function Ra(e,t){var r=Ha(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var za=Ra,Wa=Ea,qa=Na,Ja=Ga,Ya=Va,Xa=za;function B(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}B.prototype.clear=Wa;B.prototype.delete=qa;B.prototype.get=Ja;B.prototype.has=Ya;B.prototype.set=Xa;var Qa=B,Za=Y,en=ve,tn=Qa,rn=200;function an(e,t){var r=this.__data__;if(r instanceof Za){var a=r.__data__;if(!en||a.length<rn-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new tn(a)}return r.set(e,t),this.size=r.size,this}var nn=an,sn=Y,on=Rt,cn=Wt,un=Jt,ln=Xt,vn=nn;function M(e){var t=this.__data__=new sn(e);this.size=t.size}M.prototype.clear=on;M.prototype.delete=cn;M.prototype.get=un;M.prototype.has=ln;M.prototype.set=vn;var fn=M;function bn(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var _n=bn,pn=I,$n=function(){try{var e=pn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yn=$n,Ie=yn;function gn(e,t,r){t=="__proto__"&&Ie?Ie(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var tt=gn,dn=tt,hn=Ye,Tn=Object.prototype,jn=Tn.hasOwnProperty;function An(e,t,r){var a=e[t];(!(jn.call(e,t)&&hn(a,r))||r===void 0&&!(t in e))&&dn(e,t,r)}var rt=An,mn=rt,On=tt;function Sn(e,t,r,a){var n=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var i=t[o],b=a?a(r[i],e[i],i,r,e):void 0;b===void 0&&(b=e[i]),n?On(r,i,b):mn(r,i,b)}return r}var ee=Sn;function wn(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var Cn=wn;function In(e){return e!=null&&typeof e=="object"}var V=In,En=X,xn=V,Pn="[object Arguments]";function kn(e){return xn(e)&&En(e)==Pn}var Bn=kn,Ee=Bn,Mn=V,at=Object.prototype,Dn=at.hasOwnProperty,Nn=at.propertyIsEnumerable,Ln=Ee(function(){return arguments}())?Ee:function(e){return Mn(e)&&Dn.call(e,"callee")&&!Nn.call(e,"callee")},Fn=Ln,Gn=Array.isArray,fe=Gn,W={exports:{}};function Un(){return!1}var Kn=Un;(function(e,t){var r=j,a=Kn,n=t&&!t.nodeType&&t,o=n&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===n,i=s?r.Buffer:void 0,b=i?i.isBuffer:void 0,c=b||a;e.exports=c})(W,W.exports);var Vn=9007199254740991,Hn=/^(?:0|[1-9]\d*)$/;function Rn(e,t){var r=typeof e;return t=t==null?Vn:t,!!t&&(r=="number"||r!="symbol"&&Hn.test(e))&&e>-1&&e%1==0&&e<t}var zn=Rn,Wn=9007199254740991;function qn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Wn}var nt=qn,Jn=X,Yn=nt,Xn=V,Qn="[object Arguments]",Zn="[object Array]",es="[object Boolean]",ts="[object Date]",rs="[object Error]",as="[object Function]",ns="[object Map]",ss="[object Number]",os="[object Object]",is="[object RegExp]",cs="[object Set]",us="[object String]",ls="[object WeakMap]",vs="[object ArrayBuffer]",fs="[object DataView]",bs="[object Float32Array]",_s="[object Float64Array]",ps="[object Int8Array]",$s="[object Int16Array]",ys="[object Int32Array]",gs="[object Uint8Array]",ds="[object Uint8ClampedArray]",hs="[object Uint16Array]",Ts="[object Uint32Array]",l={};l[bs]=l[_s]=l[ps]=l[$s]=l[ys]=l[gs]=l[ds]=l[hs]=l[Ts]=!0;l[Qn]=l[Zn]=l[vs]=l[es]=l[fs]=l[ts]=l[rs]=l[as]=l[ns]=l[ss]=l[os]=l[is]=l[cs]=l[us]=l[ls]=!1;function js(e){return Xn(e)&&Yn(e.length)&&!!l[Jn(e)]}var As=js;function ms(e){return function(t){return e(t)}}var be=ms,U={exports:{}};(function(e,t){var r=Xe,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===a,s=o&&r.process,i=function(){try{var b=n&&n.require&&n.require("util").types;return b||s&&s.binding&&s.binding("util")}catch{}}();e.exports=i})(U,U.exports);var Os=As,Ss=be,xe=U.exports,Pe=xe&&xe.isTypedArray,ws=Pe?Ss(Pe):Os,Cs=ws,Is=Cn,Es=Fn,xs=fe,Ps=W.exports,ks=zn,Bs=Cs,Ms=Object.prototype,Ds=Ms.hasOwnProperty;function Ns(e,t){var r=xs(e),a=!r&&Es(e),n=!r&&!a&&Ps(e),o=!r&&!a&&!n&&Bs(e),s=r||a||n||o,i=s?Is(e.length,String):[],b=i.length;for(var c in e)(t||Ds.call(e,c))&&!(s&&(c=="length"||n&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ks(c,b)))&&i.push(c);return i}var st=Ns,Ls=Object.prototype;function Fs(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ls;return e===r}var _e=Fs;function Gs(e,t){return function(r){return e(t(r))}}var ot=Gs,Us=ot,Ks=Us(Object.keys,Object),Vs=Ks,Hs=_e,Rs=Vs,zs=Object.prototype,Ws=zs.hasOwnProperty;function qs(e){if(!Hs(e))return Rs(e);var t=[];for(var r in Object(e))Ws.call(e,r)&&r!="constructor"&&t.push(r);return t}var Js=qs,Ys=Ze,Xs=nt;function Qs(e){return e!=null&&Xs(e.length)&&!Ys(e)}var it=Qs,Zs=st,eo=Js,to=it;function ro(e){return to(e)?Zs(e):eo(e)}var pe=ro,ao=ee,no=pe;function so(e,t){return e&&ao(t,no(t),e)}var oo=so;function io(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var co=io,uo=K,lo=_e,vo=co,fo=Object.prototype,bo=fo.hasOwnProperty;function _o(e){if(!uo(e))return vo(e);var t=lo(e),r=[];for(var a in e)a=="constructor"&&(t||!bo.call(e,a))||r.push(a);return r}var po=_o,$o=st,yo=po,go=it;function ho(e){return go(e)?$o(e,!0):yo(e)}var $e=ho,To=ee,jo=$e;function Ao(e,t){return e&&To(t,jo(t),e)}var mo=Ao,ae={exports:{}};(function(e,t){var r=j,a=t&&!t.nodeType&&t,n=a&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===a,s=o?r.Buffer:void 0,i=s?s.allocUnsafe:void 0;function b(c,m){if(m)return c.slice();var g=c.length,O=i?i(g):new c.constructor(g);return c.copy(O),O}e.exports=b})(ae,ae.exports);function Oo(e,t){var r=-1,a=e.length;for(t||(t=Array(a));++r<a;)t[r]=e[r];return t}var So=Oo;function wo(e,t){for(var r=-1,a=e==null?0:e.length,n=0,o=[];++r<a;){var s=e[r];t(s,r,e)&&(o[n++]=s)}return o}var Co=wo;function Io(){return[]}var ct=Io,Eo=Co,xo=ct,Po=Object.prototype,ko=Po.propertyIsEnumerable,ke=Object.getOwnPropertySymbols,Bo=ke?function(e){return e==null?[]:(e=Object(e),Eo(ke(e),function(t){return ko.call(e,t)}))}:xo,ye=Bo,Mo=ee,Do=ye;function No(e,t){return Mo(e,Do(e),t)}var Lo=No;function Fo(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var ut=Fo,Go=ot,Uo=Go(Object.getPrototypeOf,Object),lt=Uo,Ko=ut,Vo=lt,Ho=ye,Ro=ct,zo=Object.getOwnPropertySymbols,Wo=zo?function(e){for(var t=[];e;)Ko(t,Ho(e)),e=Vo(e);return t}:Ro,vt=Wo,qo=ee,Jo=vt;function Yo(e,t){return qo(e,Jo(e),t)}var Xo=Yo,Qo=ut,Zo=fe;function ei(e,t,r){var a=t(e);return Zo(e)?a:Qo(a,r(e))}var ft=ei,ti=ft,ri=ye,ai=pe;function ni(e){return ti(e,ai,ri)}var si=ni,oi=ft,ii=vt,ci=$e;function ui(e){return oi(e,ci,ii)}var li=ui,vi=I,fi=j,bi=vi(fi,"DataView"),_i=bi,pi=I,$i=j,yi=pi($i,"Promise"),gi=yi,di=I,hi=j,Ti=di(hi,"Set"),ji=Ti,Ai=I,mi=j,Oi=Ai(mi,"WeakMap"),Si=Oi,ne=_i,se=ve,oe=gi,ie=ji,ce=Si,bt=X,D=et,Be="[object Map]",wi="[object Object]",Me="[object Promise]",De="[object Set]",Ne="[object WeakMap]",Le="[object DataView]",Ci=D(ne),Ii=D(se),Ei=D(oe),xi=D(ie),Pi=D(ce),C=bt;(ne&&C(new ne(new ArrayBuffer(1)))!=Le||se&&C(new se)!=Be||oe&&C(oe.resolve())!=Me||ie&&C(new ie)!=De||ce&&C(new ce)!=Ne)&&(C=function(e){var t=bt(e),r=t==wi?e.constructor:void 0,a=r?D(r):"";if(a)switch(a){case Ci:return Le;case Ii:return Be;case Ei:return Me;case xi:return De;case Pi:return Ne}return t});var ge=C,ki=Object.prototype,Bi=ki.hasOwnProperty;function Mi(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Bi.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Di=Mi,Ni=j,Li=Ni.Uint8Array,Fi=Li,Fe=Fi;function Gi(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}var de=Gi,Ui=de;function Ki(e,t){var r=t?Ui(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Vi=Ki,Hi=/\w*$/;function Ri(e){var t=new e.constructor(e.source,Hi.exec(e));return t.lastIndex=e.lastIndex,t}var zi=Ri,Ge=le,Ue=Ge?Ge.prototype:void 0,Ke=Ue?Ue.valueOf:void 0;function Wi(e){return Ke?Object(Ke.call(e)):{}}var qi=Wi,Ji=de;function Yi(e,t){var r=t?Ji(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Xi=Yi,Qi=de,Zi=Vi,ec=zi,tc=qi,rc=Xi,ac="[object Boolean]",nc="[object Date]",sc="[object Map]",oc="[object Number]",ic="[object RegExp]",cc="[object Set]",uc="[object String]",lc="[object Symbol]",vc="[object ArrayBuffer]",fc="[object DataView]",bc="[object Float32Array]",_c="[object Float64Array]",pc="[object Int8Array]",$c="[object Int16Array]",yc="[object Int32Array]",gc="[object Uint8Array]",dc="[object Uint8ClampedArray]",hc="[object Uint16Array]",Tc="[object Uint32Array]";function jc(e,t,r){var a=e.constructor;switch(t){case vc:return Qi(e);case ac:case nc:return new a(+e);case fc:return Zi(e,r);case bc:case _c:case pc:case $c:case yc:case gc:case dc:case hc:case Tc:return rc(e,r);case sc:return new a;case oc:case uc:return new a(e);case ic:return ec(e);case cc:return new a;case lc:return tc(e)}}var Ac=jc,mc=K,Ve=Object.create,Oc=function(){function e(){}return function(t){if(!mc(t))return{};if(Ve)return Ve(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Sc=Oc,wc=Sc,Cc=lt,Ic=_e;function Ec(e){return typeof e.constructor=="function"&&!Ic(e)?wc(Cc(e)):{}}var xc=Ec,Pc=ge,kc=V,Bc="[object Map]";function Mc(e){return kc(e)&&Pc(e)==Bc}var Dc=Mc,Nc=Dc,Lc=be,He=U.exports,Re=He&&He.isMap,Fc=Re?Lc(Re):Nc,Gc=Fc,Uc=ge,Kc=V,Vc="[object Set]";function Hc(e){return Kc(e)&&Uc(e)==Vc}var Rc=Hc,zc=Rc,Wc=be,ze=U.exports,We=ze&&ze.isSet,qc=We?Wc(We):zc,Jc=qc,Yc=fn,Xc=_n,Qc=rt,Zc=oo,eu=mo,tu=ae.exports,ru=So,au=Lo,nu=Xo,su=si,ou=li,iu=ge,cu=Di,uu=Ac,lu=xc,vu=fe,fu=W.exports,bu=Gc,_u=K,pu=Jc,$u=pe,yu=$e,gu=1,du=2,hu=4,_t="[object Arguments]",Tu="[object Array]",ju="[object Boolean]",Au="[object Date]",mu="[object Error]",pt="[object Function]",Ou="[object GeneratorFunction]",Su="[object Map]",wu="[object Number]",$t="[object Object]",Cu="[object RegExp]",Iu="[object Set]",Eu="[object String]",xu="[object Symbol]",Pu="[object WeakMap]",ku="[object ArrayBuffer]",Bu="[object DataView]",Mu="[object Float32Array]",Du="[object Float64Array]",Nu="[object Int8Array]",Lu="[object Int16Array]",Fu="[object Int32Array]",Gu="[object Uint8Array]",Uu="[object Uint8ClampedArray]",Ku="[object Uint16Array]",Vu="[object Uint32Array]",u={};u[_t]=u[Tu]=u[ku]=u[Bu]=u[ju]=u[Au]=u[Mu]=u[Du]=u[Nu]=u[Lu]=u[Fu]=u[Su]=u[wu]=u[$t]=u[Cu]=u[Iu]=u[Eu]=u[xu]=u[Gu]=u[Uu]=u[Ku]=u[Vu]=!0;u[mu]=u[pt]=u[Pu]=!1;function z(e,t,r,a,n,o){var s,i=t&gu,b=t&du,c=t&hu;if(r&&(s=n?r(e,a,n,o):r(e)),s!==void 0)return s;if(!_u(e))return e;var m=vu(e);if(m){if(s=cu(e),!i)return ru(e,s)}else{var g=iu(e),O=g==pt||g==Ou;if(fu(e))return tu(e,i);if(g==$t||g==_t||O&&!n){if(s=b||O?{}:lu(e),!i)return b?nu(e,eu(s,e)):au(e,Zc(s,e))}else{if(!u[g])return n?e:{};s=uu(e,g,i)}}o||(o=new Yc);var N=o.get(e);if(N)return N;o.set(e,s),pu(e)?e.forEach(function(T){s.add(z(T,t,r,T,e,o))}):bu(e)&&e.forEach(function(T,d){s.set(d,z(T,t,r,d,e,o))});var E=c?b?ou:su:b?yu:$u,H=m?void 0:E(e);return Xc(H||e,function(T,d){H&&(d=T,T=e[d]),Qc(s,d,z(T,t,r,d,e,o))}),s}var Hu=z,Ru=Hu,zu=1,Wu=4;function qu(e){return Ru(e,zu|Wu)}var qe=qu;const Ju={key:0,class:"row body__row"},Yu={class:"column row__column",style:{color:"#ff0000"}},Xu={key:0,class:"column row__column"},Qu={key:1,class:"column row__column"},Zu=q({__name:"AsksBook",props:{keys_asks:{type:Object},asks:{type:Object}},setup(e){return(t,r)=>(y(),$("div",null,[(y(!0),$(ue,null,Je(e.keys_asks,(a,n)=>(y(),$("div",{key:a},[Number(a)>=0?(y(),$("div",Ju,[x("div",Yu,S(Number(a)*1),1),e.asks?(y(),$("div",Xu,S(e.asks[a]*1),1)):A("",!0),e.asks?(y(),$("div",Qu,S((Number(a)*e.asks[a]).toFixed(4)),1)):A("",!0)])):A("",!0)]))),128))]))}}),el={key:0,class:"row body__row",id:"start_bid"},tl={class:"column row__column",style:{color:"#16c281"}},rl={key:0,class:"column row__column"},al={key:1,class:"column row__column"},nl=q({__name:"BidsBook",props:{keys_bids:Object,bids:Object},setup(e){return(t,r)=>(y(),$("div",null,[(y(!0),$(ue,null,Je(e.keys_bids,(a,n)=>(y(),$("div",{key:a},[Number(a)>=0?(y(),$("div",el,[x("div",tl,S(Number(a)*1),1),e.bids?(y(),$("div",rl,S(e.bids[a]*1),1)):A("",!0),e.bids?(y(),$("div",al,S((Number(a)*e.bids[a]).toFixed(4)),1)):A("",!0)])):A("",!0)]))),128))]))}});const sl={class:"head table__head"},ol={key:0,class:"column head__column"},il={key:1,class:"column head__column"},cl=x("div",{class:"column head__column"},"\u0412\u0441\u0435\u0433\u043E",-1),ul=q({__name:"HeaderTable",props:{current_pair:String},setup(e){return(t,r)=>{var a,n;return y(),$("div",sl,[e.current_pair?(y(),$("div",ol," \u0426\u0435\u043D\u0430 "+S(((a=e.current_pair)==null?void 0:a.length)>=6?`(${e.current_pair.split("")[3]}${e.current_pair.split("")[4]}${e.current_pair.split("")[5]}${e.current_pair.length>6?e.current_pair.split("")[6]:""})`:""),1)):A("",!0),e.current_pair?(y(),$("div",il," \u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E "+S(((n=e.current_pair)==null?void 0:n.length)>=6?`(${e.current_pair.split("")[0]}${e.current_pair.split("")[1]}${e.current_pair.split("")[2]})`:""),1)):A("",!0),cl])}}}),ll={class:"table-responsive"},vl={class:"body table__body"},fl={key:0,class:"loader"},_l=q({__name:"OrderBook",setup(e){const t=h(""),r=h(null),a=h(!0),n=h(!1),o=h({}),s=h([]),i=h({}),b=h([]),c=h(null),m=h(null),g=h([]),O=je("getOrderBook"),N=je("subscribeOrderBook");F.on("update-pair",async d=>{if(t.value=d,N){const L=await N(d);r.value=L,r.value.onopen=async function(){if(O){n.value=!0;const _=await O(d);n.value=!1;const p={..._,asks:{},bids:{}};_.data.asks.forEach(v=>{p.asks[v[0]]=v[1]}),_.data.bids.forEach(v=>{p.bids[v[0]]=v[1]}),p.asks=await E(p.asks,2),p.bids=await E(p.bids,1),o.value=p.asks,i.value=p.bids,c.value=_.data.lastUpdateId,setTimeout(function(){let v=document.getElementById("start_bid");v&&v.scrollIntoView({block:"center"})},100)}},r.value.onmessage=function(_){var Te;let p=JSON.parse(_.data),v=qe(o.value),w=qe(i.value);g.value.length>0&&c.value&&c.value+1>=p.U&&c.value+1<=p.u&&(g.value.forEach(f=>{c.value&&f.u<=c.value&&(Number(f[1])===0?delete v[f[0]]:(v[f[0]],v[f[0]]=f[1]))}),g.value=[]),c.value===null?g.value.push(p):m.value&&((Te=m.value)==null?void 0:Te.u)+1===p.U&&(p.a.forEach(f=>{Number(f[1])===0?delete v[f[0]]:(v[f[0]]&&F.emit("diff_value",`diff: \u0421\u043F\u0440\u043E\u0441: \u0412\u0430\u043B\u044E\u0442\u0430:${t.value.split("")[3]}${t.value.split("")[4]}${t.value.split("")[5]}${t.value.length>6?t.value.split("")[6]:""} \u0446\u0435\u043D\u0430 [${f[0]}] \u0431\u044B\u043B\u043E \u043A\u043E\u043B-\u0432\u043E [${v[f[0]]} \u0441\u0442\u0430\u043B\u043E [${f[1]}]`),v[f[0]]=Number(f[1]))}),p.b.forEach(f=>{Number(f[1])===0?delete w[f[0]]:(w[f[0]]&&F.emit("diff_value",`diff: \u041F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435: \u0412\u0430\u043B\u044E\u0442\u0430:${t.value.split("")[3]}${t.value.split("")[4]}${t.value.split("")[5]}${t.value.length>6?t.value.split("")[6]:""}/${t.value.split("")[0]}${t.value.split("")[1]}${t.value.split("")[2]} \u0446\u0435\u043D\u0430 [${f[0]}] \u0431\u044B\u043B\u043E \u043A\u043E\u043B-\u0432\u043E [${w[f[0]]} \u0441\u0442\u0430\u043B\u043E [${f[1]}]`),w[f[0]]=Number(f[1]))})),o.value=E(v,2),i.value=E(w,1);let he=document.getElementById("start_bid");he&&a.value===!0&&he.scrollIntoView({block:"center"}),m.value=p},r.value.onclose=function(){}}});function E(d,L){let _=Object.keys(d);_.sort((v,w)=>-(Number(v)-Number(w)));const p={};if(_.length>500)if(L===1)_=_.slice(0,500);else{let v=_.length-500>0?_.length-500:0;_=_.slice(v,_.length)}return L===1?b.value=_:s.value=_,_.forEach(v=>p[v]=d[v]),p}const H=()=>{a.value=!1},T=()=>{a.value=!0};return yt(()=>{F.emit("get-pair"),a.value=!0}),gt(()=>{F.off("update-pair"),r.value.close(),g.value=[]}),(d,L)=>(y(),$(ue,null,[x("div",ll,[x("div",{class:"table",onMouseenter:H,onMouseleave:T},[te(ul,{current_pair:t.value},null,8,["current_pair"]),x("div",vl,[te(Zu,{asks:o.value,keys_asks:s.value},null,8,["asks","keys_asks"]),te(nl,{bids:i.value,keys_bids:b.value},null,8,["bids","keys_bids"])])],32)]),n.value?(y(),$("div",fl)):A("",!0)],64))}});export{_l as default};
